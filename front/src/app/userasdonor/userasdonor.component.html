<div class="sidebar-logo">
  <div class="welcometxt" style="float: left">
    <b style="color: white">User Dashboard</b>
  </div>
  <button class="logoutbtn" (click)="navigateHome()">
    <i class="fa fa-home"></i> Home
  </button>
  <b class="sidebar-text" style="color: whitesmoke"
    ><i class="fa fa-user"></i> Welcome {{ loggedUser }}</b
  >
  <button class="logoutbtn" (click)="logout()">
    <i class="fa fa-sign-out"></i> Logout
  </button>
</div>

<div class="container">
  <h2 class="textual">
    <i style="color: red" class="fa fa-heart"></i> Voluntear As Donor
  </h2>
  <div style="text-align: center; color: green">
    <b>{{ msg }}</b>
  </div>
  <form #addDonorform="ngForm" (ngSubmit)="addDonor()">
        <!-- Name -->
    <div class="form-group">
        <mat-form-field appearance="fill" class="mat-form-field-custom">
          <mat-label>Name</mat-label>
          <input
            matInput
            placeholder="Enter Your Name"
            name="donorname"
            [(ngModel)]="donor.name"
            required
            #donorname="ngModel"
            [class.is-invalid]="donorname.invalid && donorname.touched"
          />
          <mat-error *ngIf="donorname.invalid && donorname.touched">
            <span><b>Required field</b></span>
          </mat-error>
        </mat-form-field>
      </div>
        <!-- Blood Group -->
    <div class="form-group">
        <mat-form-field appearance="fill" class="mat-form-field-custom">
          <mat-label>Blood Group</mat-label>
          <mat-select
            placeholder="Select Blood Group"
            name="bloodgroup"
            [(ngModel)]="donor.bloodGroup"
            #bloodgroup="ngModel"
            required
          >
            <mat-option value="A+">A+</mat-option>
            <mat-option value="A-">A-</mat-option>
            <mat-option value="B+">B+</mat-option>
            <mat-option value="B-">B-</mat-option>
            <mat-option value="AB+">AB+</mat-option>
            <mat-option value="AB-">AB-</mat-option>
            <mat-option value="O+">O+</mat-option>
            <mat-option value="O-">O-</mat-option>
            <mat-option value="A+">A+</mat-option>
          </mat-select>
          <mat-error *ngIf="bloodgroup.invalid && bloodgroup.touched">
            <span><b>Required field</b></span>
          </mat-error>
        </mat-form-field>
      </div>
        <!-- blood units  -->
    <div class="form-group">
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Units of Blood</mat-label>
        <mat-select
          placeholder="Select Blood Units"
          name="units"
          id="sel1"
          [(ngModel)]="donor.units"
          #units="ngModel"
          required
        >
          <mat-option value="1">1</mat-option>
          <mat-option value="2">2</mat-option>
          <mat-option value="3">3</mat-option>
        </mat-select>

        <mat-error *ngIf="units.invalid && units.touched">
          <span><b>Required field</b></span>
        </mat-error>
      </mat-form-field>
    </div>
    <small style="color: grey; font-size: 10px; font-weight: bold"
      >Maximum units can be donated is 3 pints</small
    >
        <!-- Mobile Number  -->
    <div class="form-group">
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Mobile Number</mat-label>
        <input
          matInput
          type="tel"
          placeholder="Enter mobile number"
          name="mobile"
          [(ngModel)]="donor.mobile"
          required
          #mobile="ngModel"
          [class.is-invalid]="mobile.invalid && mobile.touched"
        />
        <mat-error *ngIf="mobile.invalid && mobile.touched">
          <span><b>Required field</b></span>
        </mat-error>
      </mat-form-field>
    </div>
      <!-- Gender -->
    <div class="form-group">
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Gender</mat-label>
        <mat-select
          placeholder="Select gender"
          name="gender"
          id="sel1"
          [(ngModel)]="donor.gender"
          #gender="ngModel"
          required
        >
          <mat-option value="Male">Male</mat-option>
          <mat-option value="Female">Female</mat-option>
          <mat-option value="Others">Others</mat-option>
        </mat-select>
        <mat-error *ngIf="gender.invalid && gender.touched">
          <span><b>Required field</b></span>
        </mat-error>
      </mat-form-field>
    </div>
    <!-- Age  -->
    <div class="form-group">
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Age</mat-label>
        <input
          matInput
          type="number"
          placeholder="Enter your age"
          name="age"
          min="0"
          max="65"
          [(ngModel)]="donor.age"
          required
          #age="ngModel"
          [class.is-invalid]="age.invalid && age.touched"
        />
        <mat-error *ngIf="age.invalid && age.touched">
          <span><b>Required field</b></span>
        </mat-error>
      </mat-form-field>
    </div>
    <!-- City  -->
    <div class="form-group">
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>City</mat-label>
        <input
          matInput
          placeholder="Enter Your City name"
          name="city"
          [(ngModel)]="donor.city"
          required
          #city="ngModel"
          [class.is-invalid]="city.invalid && city.touched"
        />
        <mat-error *ngIf="city.invalid && city.touched">
          <span><b>Required field</b></span>
        </mat-error>
      </mat-form-field>
    </div>
    <!-- Address  -->
    <div class="form-group">
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Address</mat-label>
        <input
          matInput
          placeholder="Enter your Address"
          name="address"
          [(ngModel)]="donor.address"
          required
          #address="ngModel"
          [class.is-invalid]="address.invalid && address.touched"
        />
        <mat-error *ngIf="address.invalid && address.touched">
          <span><b>Required field</b></span>
        </mat-error>
      </mat-form-field>
    </div>
    <small style="color: gray; font-size: 10px"
      >Please mention proper donor address for reference purpose</small
    >


    


    <div class="form-group">
      <mat-form-field appearance="fill" class="mat-form-field-custom">
        <mat-label>Date of Donation</mat-label>
        <input 
        matInput
        [matDatepicker]="picker"
        placeholder="Enter donating date"
        id="date"
        name="date"
        [(ngModel)]="donor.date"
        required
        #date="ngModel"
        [class.is-invalid]="date.invalid && date.touched"
        >
        <small class="text-danger" [class.d-none]="date.valid || date.untouched"
        ><b>required field</b></small>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      </div>



    

    <div class="checkbox" style="margin-top: 5px">
      <section class="example-section">
        <mat-checkbox class="example-margin" name="remember" required
          >I am interested
          to donate blood</mat-checkbox
        > <br>
        <small style="color: rgb(179, 11, 11); font-weight: bold">
          (adding you as a donor without your interest is against our Terms and
          Conditions !!!)</small
        >
      </section>
    </div>


    <button
      style="margin-top: 15px"
      [disabled]="addDonorform.form.invalid"
      type="submit"
      class="btn registerbtn"
    >
      Add Donor
    </button>
  </form>
</div>
